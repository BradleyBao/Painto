<Window
    x:Class="Painto.Settings"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:Painto"
    xmlns:modules="using:Painto.Modules"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:controls="using:CommunityToolkit.WinUI.Controls"
    xmlns:ui="using:CommunityToolkit.WinUI"
    mc:Ignorable="d">

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
        </Grid.RowDefinitions>

        <TextBlock
        x:Name="TitleTxt"
        x:Uid="SettingsTitle"
        Margin="36,24,36,24"
        Grid.Row="0"
        Style="{StaticResource TitleTextBlockStyle}" />

        <ScrollViewer
        x:Name="PaintoManager"
        Grid.Row="1"
        Padding="36,0,36,0"
        IsTabStop="False"
        UseSystemFocusVisuals="False"
        VerticalScrollBarVisibility="Auto"
        VerticalScrollMode="Auto">
            <StackPanel Spacing="4">
                <TextBlock Style="{StaticResource BodyStrongTextBlockStyle}"
                   Text="General"
                   x:Name="GeneralHeader"
                   x:Uid="GeneralHeader" />
                <controls:SettingsCard x:Uid="LanguageSettingCard"
                       HeaderIcon="{ui:FontIcon Glyph=&#xE774;}">
                    <ComboBox x:Name="LanguageComboBox" SelectionChanged="LanguageComboBox_SelectionChanged" Width="150">
                        <ComboBoxItem x:Uid="Language_Auto" Tag="Auto" />
                        <ComboBoxItem x:Uid="Language_English" Tag="en-US" />
                        <ComboBoxItem x:Uid="Language_Chinese" Tag="zh-CN" />
                    </ComboBox>
                </controls:SettingsCard>
                <controls:SettingsCard Header="Realistic Eraser" Description="Erase parts of lines instead of whole strokes">
                    <ToggleSwitch x:Name="EraserModeSwitch" Toggled="EraserModeSwitch_Toggled" />
                </controls:SettingsCard>
                <controls:SettingsCard Header="Eraser Size" Description="Adjust the size of the eraser">
                    <StackPanel Orientation="Horizontal" Spacing="10">
                        <TextBlock Text="{x:Bind EraserSizeSlider.Value, Mode=OneWay}" VerticalAlignment="Center" Width="30"/>
                        <Slider x:Name="EraserSizeSlider" 
                                Minimum="5" 
                                Maximum="100" 
                                Width="200" 
                                ValueChanged="EraserSizeSlider_ValueChanged"/>
                    </StackPanel>
                </controls:SettingsCard>
                <TextBlock Style="{StaticResource BodyStrongTextBlockStyle}"
                   x:Name="MonitorDisplayHeader"
                   x:Uid="MonitorHeader" />

                <controls:SettingsCard HorizontalContentAlignment="Left"
                         ContentAlignment="Vertical"
                         x:Uid="MonitorListCard">
                    <GridView x:Name="DisplayGridView" 
                              SelectedIndex="0"
                              ItemsSource="{x:Bind Displays, Mode=OneWay}">
                        <GridView.ItemTemplate>
                            <DataTemplate x:DataType="modules:DisplayInfo">
                                <StackPanel Orientation="Vertical" Margin="8">
                                    <Border Width="64" 
                                            Height="64" 
                                            Background="{x:Bind BackgroundColor}"
                                            CornerRadius="4" />
                                    <TextBlock Text="{x:Bind ID}"
                                               HorizontalAlignment="Center" 
                                               Margin="0,4,0,0"/>
                                </StackPanel>
                            </DataTemplate>
                        </GridView.ItemTemplate>
                    </GridView>
                </controls:SettingsCard>

                <controls:SettingsCard x:Uid="FullMonitorCard"
                                       HeaderIcon="{ui:FontIcon Glyph=&#xE740;}">
                    <ToggleSwitch x:Name="FullMonitorStatus" IsOn="False" />
                </controls:SettingsCard>

                <controls:SettingsCard x:Uid="SetMonitorCard"
                                       HeaderIcon="{ui:FontIcon Glyph=&#xE7FA;}"
                                       IsEnabled="True">
                    <controls:SettingsCard.Resources>
                        <x:Double x:Key="SettingsCardWrapThreshold">800</x:Double>
                        <x:Double x:Key="SettingsCardWrapNoIconThreshold">600</x:Double>
                    </controls:SettingsCard.Resources>
                    <Button Click="SetMonitorBtn_Click" Name="SetMonitorBtn" x:Uid="SetMonitorBtn"
                            Style="{StaticResource DefaultButtonStyle}" />
                </controls:SettingsCard>

                <TextBlock Style="{StaticResource BodyStrongTextBlockStyle}"
                   x:Name="ToolbarUIHeader"
                   x:Uid="ToolbarUIHeader" />

                <controls:SettingsCard x:Uid="ToolbarCollapsedCard"
                       HeaderIcon="{ui:FontIcon Glyph=&#xE740;}">
                    <ToggleSwitch x:Name="ToolBarCollapsed" Toggled="ToolBarCollapsed_Toggled" IsOn="False" />
                </controls:SettingsCard>

                <TextBlock Style="{StaticResource BodyStrongTextBlockStyle}"
                           x:Name="ShortcutsHeader"
                           x:Uid="ShortcutsHeader" />

                <controls:SettingsCard x:Uid="GlobalHotkeysCard"
                       HeaderIcon="{ui:FontIcon Glyph=&#xE765;}">
                    <ToggleSwitch x:Name="GlobalHotkeysSwitch" Toggled="GlobalHotkeysSwitch_Toggled" IsOn="False" />
                </controls:SettingsCard>

                <controls:SettingsCard x:Uid="PenShortcutsCard"
                                       HeaderIcon="{ui:FontIcon Glyph=&#xE70F;}">
                    <StackPanel Orientation="Horizontal" Spacing="10">
                        <TextBlock x:Uid="ModifierKeyLabel" VerticalAlignment="Center"/>
                        <ComboBox x:Name="PenModifierCombo" SelectionChanged="PenModifierCombo_SelectionChanged" SelectedIndex="0" Width="100">
                            <ComboBoxItem Content="Ctrl"/>
                            <ComboBoxItem Content="Alt"/>
                        </ComboBox>
                    </StackPanel>
                </controls:SettingsCard>

                <controls:SettingsCard x:Uid="DrawModeCard" HeaderIcon="{ui:FontIcon Glyph=&#xE70F;}">
                    <Button x:Name="BtnSetDraw" Content="Alt + B" Click="BtnSetShortcut_Click" Tag="Draw" MinWidth="120"/>
                </controls:SettingsCard>

                <controls:SettingsCard x:Uid="EraserModeCard" HeaderIcon="{ui:FontIcon Glyph=&#xE75C;}">
                    <Button x:Name="BtnSetEraser" Content="Alt + E" Click="BtnSetShortcut_Click" Tag="Eraser" MinWidth="120"/>
                </controls:SettingsCard>

                <controls:SettingsCard x:Uid="ComputerModeCard" HeaderIcon="{ui:FontIcon Glyph=&#xE8B0;}">
                    <Button x:Name="BtnSetComputer" Content="Alt + C" Click="BtnSetShortcut_Click" Tag="Computer" MinWidth="120"/>
                </controls:SettingsCard>

                <controls:SettingsCard x:Uid="ClearAllCard" HeaderIcon="{ui:FontIcon Glyph=&#xE74D;}">
                    <Button x:Name="BtnSetClear" Content="None" Click="BtnSetShortcut_Click" Tag="Clear" MinWidth="120"/>
                </controls:SettingsCard>

            </StackPanel>
        </ScrollViewer>
    </Grid>
</Window>